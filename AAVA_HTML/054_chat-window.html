<html><head><meta charset='utf-8'>
<title>chat-window</title>
<style>
body{font-family:Arial;margin:40px}
pre{background:#f4f6fa;padding:12px;white-space:pre-wrap}
</style></head><body>
<h1>chat-window</h1>
<p><small>https://playdocs1.orangeriver-ad055946.westus2.azurecontainerapps.io/play-docs/docs/ui-recipes/chat-window</small></p>
<h2>Chat Window</h2>
<p>The<ava-chat-window>component is a comprehensive chat interface that provides message display, real-time input, custom icons, and automatic scrolling. It features a flexible message system, keyboard shortcuts, and responsive design for building interactive chat applications, customer support systems, and messaging interfaces.</p>
<pre><code>&lt;ava-chat-window></code></pre>
<h2>How to useâ€‹</h2>
<pre><code>import {  AavaChatWindowComponent,  ChatMessage,  ChatWindowIcon,} from "@aava/play-core";</code></pre>
<pre><code>import {  AavaChatWindowComponent,  ChatMessage,  ChatWindowIcon,} from "@aava/play-core";</code></pre>
<h2>Basic Usageâ€‹</h2>
<p>A chat window with message history, input area, and custom icons for sending messages and attachments.</p>
<pre><code>&lt;aava-chat-window  [messages]="messages()"  [placeholder]="placeholder"  [disabled]="disabled"  [rows]="rows"  [icons]="chatIcons"  (messageSent)="onMessageSent($event)"  (iconClicked)="onIconClick($event)">&lt;/aava-chat-window></code></pre>
<pre><code>&lt;aava-chat-window  [messages]="messages()"  [placeholder]="placeholder"  [disabled]="disabled"  [rows]="rows"  [icons]="chatIcons"  (messageSent)="onMessageSent($event)"  (iconClicked)="onIconClick($event)">&lt;/aava-chat-window></code></pre>
<pre><code>@ViewChild(AavaChatWindowComponent) chatWindow!: AavaChatWindowComponent;messages = signal&lt;ChatMessage[]>([]);placeholder = "Type your message here...";disabled = false;rows = 3;  chatIcons: ChatWindowIcon[] = [    {      name: 'paperclip',      slot: 'icon-start',      size: 16,      color: '#2563eb',      click: () => this.onFileAttach()    },    {      name: 'wand-sparkles',      slot: 'icon-end',      size: 16,      color: '#2563eb',      click: () => this.onMagicAction()    },    {      name: 'send',      slot: 'icon-end',      size: 16,      color: '#2563eb',      click: () => this.onSendClick()    }  ];    onMessageSent(messageText: string) {    // Add user message    const userMessage: ChatMessage = {      id: Date.now().toString(),      text: messageText,      timestamp: new Date().toLocaleString('en-US', {        hour: 'numeric',        minute: '2-digit',        hour12: true      }) + ' | Today',      isUser: true    };    this.messages.update(messages => [...messages, userMessage]);    // Add bot response after delay    setTimeout(() => {      const botMessage: ChatMessage = {        id: (Date.now() + 1).toString(),        text: this.generateBotResponse(messageText),        timestamp: new Date().toLocaleString('en-US', {          hour: 'numeric',          minute: '2-digit',          hour12: true        }) + ' | Today',        isUser: false,        avatar: 'ðŸ¤–'      };      this.messages.update(messages => [...messages, botMessage]);    }, 1000);  }    onIconClick(event: { icon: ChatWindowIcon, currentMessage: string }) {    console.log('Icon clicked:', event.icon.name, 'Current message:', event.currentMessage);    if (event.icon.name === 'send') {      // User can add custom logic here before sending      console.log('Send icon clicked, message:', event.currentMessage);      // The send will be handled by the icon's click handler or manually trigger    }  }</code></pre>
<pre><code>@ViewChild(AavaChatWindowComponent) chatWindow!: AavaChatWindowComponent;messages = signal&lt;ChatMessage[]>([]);placeholder = "Type your message here...";disabled = false;rows = 3;  chatIcons: ChatWindowIcon[] = [    {      name: 'paperclip',      slot: 'icon-start',      size: 16,      color: '#2563eb',      click: () => this.onFileAttach()    },    {      name: 'wand-sparkles',      slot: 'icon-end',      size: 16,      color: '#2563eb',      click: () => this.onMagicAction()    },    {      name: 'send',      slot: 'icon-end',      size: 16,      color: '#2563eb',      click: () => this.onSendClick()    }  ];    onMessageSent(messageText: string) {    // Add user message    const userMessage: ChatMessage = {      id: Date.now().toString(),      text: messageText,      timestamp: new Date().toLocaleString('en-US', {        hour: 'numeric',        minute: '2-digit',        hour12: true      }) + ' | Today',      isUser: true    };    this.messages.update(messages => [...messages, userMessage]);    // Add bot response after delay    setTimeout(() => {      const botMessage: ChatMessage = {        id: (Date.now() + 1).toString(),        text: this.generateBotResponse(messageText),        timestamp: new Date().toLocaleString('en-US', {          hour: 'numeric',          minute: '2-digit',          hour12: true        }) + ' | Today',        isUser: false,        avatar: 'ðŸ¤–'      };      this.messages.update(messages => [...messages, botMessage]);    }, 1000);  }    onIconClick(event: { icon: ChatWindowIcon, currentMessage: string }) {    console.log('Icon clicked:', event.icon.name, 'Current message:', event.currentMessage);    if (event.icon.name === 'send') {      // User can add custom logic here before sending      console.log('Send icon clicked, message:', event.currentMessage);      // The send will be handled by the icon's click handler or manually trigger    }  }</code></pre>
<h2>Featuresâ€‹</h2>
<h2>Message Displayâ€‹</h2>
<p>â€¢ Message History: Scrollable message container with user and bot messages</p>
<p>â€¢ Message Styling: Different styling for user and bot messages</p>
<p>â€¢ Timestamps: Automatic timestamp display for each message</p>
<p>â€¢ Auto-scroll: Automatic scrolling to the latest message</p>
<p>â€¢ Custom Avatars: Support for user avatars in messages</p>
<h2>Input Systemâ€‹</h2>
<p>â€¢ Real-time Input: Live text input with placeholder support</p>
<p>â€¢ Keyboard Shortcuts: Enter to send, Shift+Enter for new line</p>
<p>â€¢ Custom Icons: Configurable icons for different actions</p>
<p>â€¢ Icon Slots: Start and end icon slots for flexible positioning</p>
<p>â€¢ Disabled State: Support for disabled input state</p>
<h2>User Experienceâ€‹</h2>
<p>â€¢ Responsive Design: Adapts to different screen sizes</p>
<p>â€¢ Smooth Scrolling: Smooth auto-scroll behavior</p>
<p>â€¢ Custom Scrollbars: Styled scrollbars for better UX</p>
<p>â€¢ Focus Management: Proper focus handling for accessibility</p>
<p>â€¢ Loading States: Support for loading and processing states</p>
<h2>Configurationâ€‹</h2>
<p>â€¢ Flexible Messages: Support for different message types and content</p>
<p>â€¢ Icon Configuration: Customizable icons with click handlers</p>
<p>â€¢ Input Configuration: Configurable placeholder, rows, and styling</p>
<p>â€¢ Event Handling: Comprehensive event system for all interactions</p>
<h2>API Referenceâ€‹</h2>
<h2>Inputsâ€‹</h2>
<pre>Property | Type | Default | Description
messages | ChatMessage[] | [] | Array of chat messages to display
placeholder | string | 'Type a message' | Placeholder text for the input field
disabled | boolean | false | Whether the chat window is disabled
icons | ChatWindowIcon[] | [] | Array of icons to display in the input area
rows | number | 3 | Number of rows for the textarea input</pre>
<pre><code>messages</code></pre>
<pre><code>ChatMessage[]</code></pre>
<pre><code>[]</code></pre>
<pre><code>placeholder</code></pre>
<pre><code>string</code></pre>
<pre><code>'Type a message'</code></pre>
<pre><code>disabled</code></pre>
<pre><code>boolean</code></pre>
<pre><code>false</code></pre>
<pre><code>icons</code></pre>
<pre><code>ChatWindowIcon[]</code></pre>
<pre><code>[]</code></pre>
<pre><code>rows</code></pre>
<pre><code>number</code></pre>
<pre><code>3</code></pre>
<h2>Outputsâ€‹</h2>
<pre>Property | Type | Description
messageSent | EventEmitter<string> | Emitted when a message is sent
iconClicked | EventEmitter<{icon: ChatWindowIcon, currentMessage: string}> | Emitted when an icon is clicked</pre>
<pre><code>messageSent</code></pre>
<pre><code>EventEmitter&lt;string></code></pre>
<pre><code>iconClicked</code></pre>
<pre><code>EventEmitter&lt;{icon: ChatWindowIcon, currentMessage: string}></code></pre>
<h2>Methodsâ€‹</h2>
<pre>Method | Description
triggerSend() | Public method to trigger message sending
getCurrentMessage() | Public method to get the current message text</pre>
<pre><code>triggerSend()</code></pre>
<pre><code>getCurrentMessage()</code></pre>
<h2>Interfacesâ€‹</h2>
<pre><code>interface ChatMessage {  id: string; // Unique message identifier  text: string; // Message content  timestamp: string; // Message timestamp  isUser: boolean; // Whether message is from user or bot  avatar?: string; // Optional avatar URL}</code></pre>
<pre><code>interface ChatMessage {  id: string; // Unique message identifier  text: string; // Message content  timestamp: string; // Message timestamp  isUser: boolean; // Whether message is from user or bot  avatar?: string; // Optional avatar URL}</code></pre>
<pre><code>interface ChatWindowIcon {  name: string; // Icon name  click?: () => void; // Optional click handler  size?: number; // Icon size (default: 16)  color?: string; // Icon color (default: '#2563eb')  slot: "icon-start" | "icon-end"; // Icon position}</code></pre>
<pre><code>interface ChatWindowIcon {  name: string; // Icon name  click?: () => void; // Optional click handler  size?: number; // Icon size (default: 16)  color?: string; // Icon color (default: '#2563eb')  slot: "icon-start" | "icon-end"; // Icon position}</code></pre>
<h2>CSS Classesâ€‹</h2>
<p>The component provides several CSS classes for styling:</p>
<pre>Class Name | Description
.chat-window | Main chat window container
.chat-main | Main chat content wrapper
.messages-container | Scrollable messages area
.message-wrapper | Individual message wrapper
.user-message | User message styling
.bot-message | Bot message styling
.message-content | Message content container
.message-card | Message card styling
.message-text | Message text styling
.message-timestamp | Message timestamp styling
.input-area | Input area container</pre>
<pre><code>.chat-window</code></pre>
<pre><code>.chat-main</code></pre>
<pre><code>.messages-container</code></pre>
<pre><code>.message-wrapper</code></pre>
<pre><code>.user-message</code></pre>
<pre><code>.bot-message</code></pre>
<pre><code>.message-content</code></pre>
<pre><code>.message-card</code></pre>
<pre><code>.message-text</code></pre>
<pre><code>.message-timestamp</code></pre>
<pre><code>.input-area</code></pre>
<h2>CSS Custom Propertiesâ€‹</h2>
<p>The component uses CSS custom properties for theming:</p>
<pre>Property | Description
--surface-secondary | Secondary surface color for scrollbar
--border-color | Border color for input and scrollbar
--surface-background | Background color for input area
--text-tertiary | Tertiary text color for scrollbar
--text-secondary | Secondary text color for scrollbar
--border-radius-full | Full border radius for input</pre>
<pre><code>--surface-secondary</code></pre>
<pre><code>--border-color</code></pre>
<pre><code>--surface-background</code></pre>
<pre><code>--text-tertiary</code></pre>
<pre><code>--text-secondary</code></pre>
<pre><code>--border-radius-full</code></pre>
<h2>Best Practicesâ€‹</h2>
<h2>Message Managementâ€‹</h2>
<p>â€¢ Unique IDs: Ensure each message has a unique identifier</p>
<p>â€¢ Timestamp Format: Use consistent timestamp formatting</p>
<p>â€¢ Message Length: Consider message length limits for better UX</p>
<p>â€¢ Loading States: Show typing indicators for better user experience</p>
<h2>User Experienceâ€‹</h2>
<p>â€¢ Auto-scroll: Always scroll to bottom for new messages</p>
<p>â€¢ Keyboard Support: Provide keyboard shortcuts for common actions</p>
<p>â€¢ Visual Feedback: Clear visual distinction between user and bot messages</p>
<p>â€¢ Responsive Design: Ensure chat works well on mobile devices</p>
<h2>Performanceâ€‹</h2>
<p>â€¢ Message Limits: Consider limiting displayed messages for performance</p>
<p>â€¢ Efficient Rendering: Use trackBy functions for large message lists</p>
<p>â€¢ Memory Management: Clean up old messages to prevent memory leaks</p>
<p>â€¢ Debounced Input: Consider debouncing input for better performance</p>
<h2>Accessibilityâ€‹</h2>
<p>â€¢ Screen Reader Support: Ensure messages are properly announced</p>
<p>â€¢ Keyboard Navigation: Full keyboard support for all interactions</p>
<p>â€¢ Focus Management: Proper focus handling for input and icons</p>
<p>â€¢ ARIA Labels: Provide appropriate ARIA labels for interactive elements</p>
<h2>Accessibility Guidelinesâ€‹</h2>
<h2>Semantic Structureâ€‹</h2>
<p>The component provides proper semantic structure:</p>
<p>â€¢ Message Roles: Proper roles for user and bot messages</p>
<p>â€¢ Input Labels: Clear labels for input fields</p>
<p>â€¢ Icon Descriptions: Proper descriptions for interactive icons</p>
<p>â€¢ Focus Management: Logical focus order through chat elements</p>
<h2>Screen Reader Supportâ€‹</h2>
<p>â€¢ Message Announcements: Clear announcements of new messages</p>
<p>â€¢ Input Feedback: Proper feedback for input actions</p>
<p>â€¢ Icon Descriptions: Descriptive labels for all icons</p>
<p>â€¢ Status Updates: Clear status updates for loading and sending</p>
<h2>Keyboard Navigationâ€‹</h2>
<p>â€¢ Tab Order: Logical tab order through chat elements</p>
<p>â€¢ Enter Key: Enter key for sending messages</p>
<p>â€¢ Icon Activation: Keyboard activation for all icons</p>
<p>â€¢ Focus Indicators: Clear focus indicators for keyboard users</p>
<h2>Color and Contrastâ€‹</h2>
<p>â€¢ WCAG Compliance: All text and interactive elements meet WCAG AA contrast ratios</p>
<p>â€¢ High Contrast Mode: Component works with system high contrast settings</p>
<p>â€¢ Color Independence: Information is not conveyed by color alone</p>
<p>â€¢ Visual Hierarchy: Clear visual distinction between message types</p>
<h2>Responsive Behaviorâ€‹</h2>
<h2>Mobile Adaptationsâ€‹</h2>
<p>The chat window automatically adapts to mobile screens:</p>
<p>â€¢ Touch Optimization: Optimized touch targets for mobile interaction</p>
<p>â€¢ Keyboard Handling: Proper mobile keyboard behavior</p>
<p>â€¢ Viewport Adaptation: Adapts to different mobile viewport sizes</p>
<p>â€¢ Scroll Behavior: Smooth scrolling on mobile devices</p>
<h2>Breakpoint Behaviorâ€‹</h2>
<p>â€¢ Desktop (>768px): Full chat interface with all features</p>
<p>â€¢ Mobile (â‰¤768px): Compact layout with optimized spacing</p>
<p>â€¢ Input Sizing: Responsive input area sizing</p>
<p>â€¢ Icon Sizing: Appropriate icon sizes for different screens</p>
<h2>Content Considerationsâ€‹</h2>
<p>â€¢ Message Length: Messages adapt to different screen widths</p>
<p>â€¢ Input Height: Input area adjusts based on content</p>
<p>â€¢ Scroll Performance: Optimized scrolling for mobile devices</p>
<p>â€¢ Touch Targets: Adequate touch target sizes for mobile</p>
</body></html>